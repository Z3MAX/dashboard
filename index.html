<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Cart√£o Corporativo - Technology</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .dashboard {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .filter-section {
            background: #f8f9fa;
            padding: 20px 30px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .filter-container {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .filter-group label {
            font-weight: 600;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .filter-select {
            padding: 8px 16px;
            border: 2px solid #e1e8ed;
            border-radius: 25px;
            background: white;
            font-size: 14px;
            font-weight: 500;
            color: #2c3e50;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        
        .filter-select:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.15);
        }
        
        .month-tabs {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }
        
        .month-tab {
            padding: 8px 20px;
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }
        
        .month-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .month-tab:hover:not(.active) {
            background: #f8f9fa;
            border-color: #667eea;
            color: #667eea;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
        }
        
        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }
        
        .stat-icon {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.8;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 8px;
        }
        
        .stat-label {
            font-size: 14px;
            color: #7f8c8d;
            font-weight: 500;
        }
        
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }
        
        .chart-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .chart-card h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
        }
        
        .services-section {
            padding: 30px;
        }
        
        .services-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .services-card h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .service-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }
        
        .service-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .service-name {
            font-weight: 600;
            font-size: 14px;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .service-count {
            font-size: 12px;
            color: #7f8c8d;
        }
        
        .service-value {
            font-size: 14px;
            font-weight: 600;
            color: #27ae60;
            margin-top: 5px;
        }
        
        .table-section {
            padding: 30px;
        }
        
        .table-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .table-card h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
        }
        
        .table-container {
            overflow-x: auto;
            max-height: 500px;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        
        th {
            background: #f8f9fa;
            color: #2c3e50;
            font-weight: 600;
            padding: 12px 8px;
            text-align: left;
            border-bottom: 2px solid #dee2e6;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        td {
            padding: 10px 8px;
            border-bottom: 1px solid #e9ecef;
        }
        
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        tr:hover {
            background-color: #e3f2fd;
        }
        
        .data {
            white-space: nowrap;
            font-family: monospace;
            font-size: 12px;
        }
        
        .movimentacao {
            max-width: 180px;
            word-wrap: break-word;
            font-size: 12px;
        }
        
        .valor-usd {
            text-align: right;
            font-weight: 600;
            color: #2e7d32;
            font-size: 12px;
        }
        
        .valor-brl {
            text-align: right;
            font-weight: 600;
            color: #1565c0;
            font-size: 12px;
        }
        
        .month-indicator {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
            color: white;
            margin-right: 8px;
        }
        
        .month-maio { background: #e74c3c; }
        .month-junho { background: #f39c12; }
        .month-julho { background: #27ae60; }
        
        @media (max-width: 768px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .filter-container {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .month-tabs {
                margin-left: 0;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="header">
            <h1>üìä Dashboard Cart√£o Corporativo</h1>
            <p>Technology Department | Jorge Jamil | Maio - Julho 2025</p>
        </div>

        <div class="filter-section">
            <div class="filter-container">
                <div class="filter-group">
                    <label for="categoryFilter">Filtrar por Categoria:</label>
                    <select id="categoryFilter" class="filter-select">
                        <option value="all">Todas as Categorias</option>
                        <option value="IA">IA</option>
                        <option value="Desenvolvimento">Desenvolvimento</option>
                        <option value="Cloud">Cloud</option>
                        <option value="Educa√ß√£o">Educa√ß√£o</option>
                        <option value="Hardware">Hardware</option>
                        <option value="Dom√≠nios">Dom√≠nios</option>
                        <option value="E-commerce">E-commerce</option>
                        <option value="Ferramentas">Ferramentas</option>
                        <option value="Telefonia">Telefonia</option>
                        <option value="Colabora√ß√£o">Colabora√ß√£o</option>
                        <option value="Automa√ß√£o">Automa√ß√£o</option>
                        <option value="Marketing">Marketing</option>
                        <option value="Outros">Outros</option>
                    </select>
                </div>
                
                <div class="month-tabs">
                    <div class="month-tab active" data-month="all">Todos os Meses</div>
                    <div class="month-tab" data-month="maio">Maio</div>
                    <div class="month-tab" data-month="junho">Junho</div>
                    <div class="month-tab" data-month="julho">Julho</div>
                </div>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üí≥</div>
                <div class="stat-value" id="totalTransactions">0</div>
                <div class="stat-label">Transa√ß√µes</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-value" id="totalBRL">R$ 0</div>
                <div class="stat-label">Total Gasto (BRL)</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üíµ</div>
                <div class="stat-value" id="totalUSD">$ 0</div>
                <div class="stat-label">Total Gasto (USD)</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìà</div>
                <div class="stat-value" id="avgTransaction">R$ 0</div>
                <div class="stat-label">M√©dia por Transa√ß√£o</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ü§ñ</div>
                <div class="stat-value" id="aiPercentage">0%</div>
                <div class="stat-label">Gastos com IA</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìÖ</div>
                <div class="stat-value" id="activeDays">0</div>
                <div class="stat-label">Dias de Atividade</div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-card">
                <h3>üìä Gastos por Categoria</h3>
                <div class="chart-container">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>üìà Evolu√ß√£o Mensal dos Gastos</h3>
                <div class="chart-container">
                    <canvas id="timelineChart"></canvas>
                </div>
            </div>
        </div>

        <div class="services-section">
            <div class="services-card">
                <h3>üèÜ Top 10 Servi√ßos Mais Utilizados</h3>
                <div class="services-grid" id="servicesGrid">
                    <!-- Ser√° preenchido via JavaScript -->
                </div>
            </div>
        </div>

        <div class="table-section">
            <div class="table-card">
                <h3>üìã Hist√≥rico Completo de Transa√ß√µes</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>M√™s</th>
                                <th>Data</th>
                                <th>Servi√ßo</th>
                                <th>USD</th>
                                <th>BRL</th>
                                <th>Categoria</th>
                            </tr>
                        </thead>
                        <tbody id="transactionsTable">
                            <!-- Ser√° preenchido via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dados das transa√ß√µes consolidadas
        const allTransactions = [
            // MAIO 2025
            { month: 'maio', date: '07.04.2025', service: 'MERCADOLIVRE*MASTE01/02', usd: '-', brl: 'R$ 174,99', category: 'E-commerce' },
            { month: 'maio', date: '07.04.2025', service: 'MERCADOLIVRE*CEREASHOPP', usd: '-', brl: 'R$ 205,00', category: 'E-commerce' },
            { month: 'maio', date: '07.04.2025', service: 'OPENAI - USD100', usd: '$100,00', brl: 'R$ 624,00', category: 'IA' },
            { month: 'maio', date: '09.04.2025', service: 'MERCADOLIVRE*MERCADOLIV', usd: '-', brl: 'R$ 518,00', category: 'E-commerce' },
            { month: 'maio', date: '10.04.2025', service: 'MIRO.COM - USD110', usd: '$110,00', brl: 'R$ 689,70', category: 'Colabora√ß√£o' },
            { month: 'maio', date: '14.04.2025', service: 'MERCADOLIVRE*MERCADOLIV', usd: '-', brl: 'R$ 259,00', category: 'E-commerce' },
            { month: 'maio', date: '14.04.2025', service: 'HUB*KABUM', usd: '-', brl: 'R$ 7.345,56', category: 'Hardware' },
            { month: 'maio', date: '15.04.2025', service: 'WL *VUE*TESTING EXAM - USD59', usd: '$59,00', brl: 'R$ 367,57', category: 'Educa√ß√£o' },
            { month: 'maio', date: '16.04.2025', service: 'DIDWW - USD50', usd: '$50,00', brl: 'R$ 311,00', category: 'Telefonia' },
            { month: 'maio', date: '18.04.2025', service: 'DIDWW - USD50', usd: '$50,00', brl: 'R$ 310,50', category: 'Telefonia' },
            { month: 'maio', date: '19.04.2025', service: 'HARVARD HKS EXEC ED - USD11200', usd: '$11.200,00', brl: 'R$ 69.552,00', category: 'Educa√ß√£o' },
            { month: 'maio', date: '21.04.2025', service: 'ONLYDOMAINS.COM - USD76.29', usd: '$76,29', brl: 'R$ 473,76', category: 'Dom√≠nios' },
            { month: 'maio', date: '21.04.2025', service: 'ONLYDOMAINS.COM - USD78.29', usd: '$78,29', brl: 'R$ 486,18', category: 'Dom√≠nios' },
            { month: 'maio', date: '21.04.2025', service: 'ONLYDOMAINS.COM - USD19.29', usd: '$19,29', brl: 'R$ 119,79', category: 'Dom√≠nios' },
            { month: 'maio', date: '22.04.2025', service: 'ONLYDOMAINS.COM - USD17.99', usd: '$17,99', brl: 'R$ 109,56', category: 'Dom√≠nios' },
            { month: 'maio', date: '22.04.2025', service: 'ONLYDOMAINS.COM - USD36.49', usd: '$36,49', brl: 'R$ 222,22', category: 'Dom√≠nios' },
            { month: 'maio', date: '22.04.2025', service: 'ONLYDOMAINS.COM - USD39.99', usd: '$39,99', brl: 'R$ 243,54', category: 'Dom√≠nios' },
            { month: 'maio', date: '22.04.2025', service: 'ONLYDOMAINS.COM - USD12.49', usd: '$12,49', brl: 'R$ 76,06', category: 'Dom√≠nios' },
            { month: 'maio', date: '24.04.2025', service: 'ONLYDOMAINS.COM - USD38.49', usd: '$38,49', brl: 'R$ 231,32', category: 'Dom√≠nios' },
            { month: 'maio', date: '25.04.2025', service: 'MERCADOLIVRE*CEREASHOPP', usd: '-', brl: 'R$ 192,00', category: 'E-commerce' },
            { month: 'maio', date: '25.04.2025', service: 'MERCADOLIVRE*CEREASHOP', usd: '-', brl: 'R$ 192,00', category: 'E-commerce' },
            { month: 'maio', date: '26.04.2025', service: 'PPRO*MICROSOFT', usd: '-', brl: 'R$ 136,90', category: 'Cloud' },
            { month: 'maio', date: '28.04.2025', service: 'MERCADOLIVRE*TECHCYCLES', usd: '-', brl: 'R$ 388,30', category: 'E-commerce' },
            { month: 'maio', date: '30.04.2025', service: 'OPENAI *CHATGPT SUBSCR - USD60', usd: '$60,00', brl: 'R$ 360,00', category: 'IA' },
            { month: 'maio', date: '30.04.2025', service: 'OPENAI *CHATGPT SUBSCR - USD120', usd: '$120,00', brl: 'R$ 720,00', category: 'IA' },
            { month: 'maio', date: '02.05.2025', service: 'AWS BRAZIL', usd: '-', brl: 'R$ 483,60', category: 'Cloud' },
            { month: 'maio', date: '03.05.2025', service: 'MSFT * E0500W566X', usd: '-', brl: 'R$ 535,50', category: 'Cloud' },
            { month: 'maio', date: '03.05.2025', service: 'MSFT * E0500W566W', usd: '-', brl: 'R$ 1.190,10', category: 'Cloud' },
            { month: 'maio', date: '04.05.2025', service: 'PPRO   *MICROSOFT', usd: '-', brl: 'R$ 119,00', category: 'Cloud' },
            { month: 'maio', date: '03.05.2025', service: 'ONLYDOMAINS.COM - USD239.98', usd: '$239,98', brl: 'R$ 1.432,68', category: 'Dom√≠nios' },
            { month: 'maio', date: '04.05.2025', service: 'ONLYDOMAINS.COM - USD24.99', usd: '$24,99', brl: 'R$ 149,19', category: 'Dom√≠nios' },
            { month: 'maio', date: '04.05.2025', service: 'DIDWW - USD50', usd: '$50,00', brl: 'R$ 298,50', category: 'Telefonia' },
            { month: 'maio', date: '05.05.2025', service: 'MERCADOLIVRE*CEREASHOPP', usd: '-', brl: 'R$ 188,00', category: 'E-commerce' },
            { month: 'maio', date: '05.05.2025', service: 'MAGALUPAY*KABUM   01/03', usd: '-', brl: 'R$ 517,41', category: 'Hardware' },

            // JUNHO 2025
            { month: 'junho', date: '06.05.2025', service: 'REGISTROBR 44180607', usd: '-', brl: 'R$ 112,00', category: 'Dom√≠nios' },
            { month: 'junho', date: '07.05.2025', service: 'ONLYDOMAINS.COM', usd: '$50,49', brl: 'R$ 306,98', category: 'Dom√≠nios' },
            { month: 'junho', date: '09.05.2025', service: 'WL *VUE*TESTING EXAM', usd: '$59,00', brl: 'R$ 352,82', category: 'Educa√ß√£o' },
            { month: 'junho', date: '10.05.2025', service: 'MIRO.COM', usd: '$129,94', brl: 'R$ 777,04', category: 'Colabora√ß√£o' },
            { month: 'junho', date: '12.05.2025', service: 'MERCADOLIVRE*CASHF01/02', usd: '-', brl: 'R$ 1.818,81', category: 'E-commerce' },
            { month: 'junho', date: '12.05.2025', service: 'MERCADOLIVRE*DOGEL01/02', usd: '-', brl: 'R$ 522,95', category: 'E-commerce' },
            { month: 'junho', date: '14.05.2025', service: 'MERCADOLIVRE*EBAZARCOMB', usd: '-', brl: 'R$ 509,70', category: 'E-commerce' },
            { month: 'junho', date: '14.05.2025', service: 'MERCADOLIVRE*TDHARMARIN', usd: '-', brl: 'R$ 413,00', category: 'E-commerce' },
            { month: 'junho', date: '15.05.2025', service: 'MERCADOLIVRE*PROSPERITY', usd: '-', brl: 'R$ 199,00', category: 'E-commerce' },
            { month: 'junho', date: '15.05.2025', service: 'MERCADOLIVRE*PROSPERITY', usd: '-', brl: 'R$ 260,00', category: 'E-commerce' },
            { month: 'junho', date: '15.05.2025', service: 'MERCADOLIVRE*2PRODUTOS', usd: '-', brl: 'R$ 903,09', category: 'E-commerce' },
            { month: 'junho', date: '16.05.2025', service: 'DIDWW', usd: '$50,00', brl: 'R$ 302,00', category: 'Telefonia' },
            { month: 'junho', date: '18.05.2025', service: 'DIDWW', usd: '$50,00', brl: 'R$ 302,00', category: 'Telefonia' },
            { month: 'junho', date: '21.05.2025', service: 'MERCADOLIVRE*18PRO01/02', usd: '-', brl: 'R$ 908,20', category: 'E-commerce' },
            { month: 'junho', date: '21.05.2025', service: 'MERCADOLIVRE*18PRO01/02', usd: '-', brl: 'R$ 703,90', category: 'E-commerce' },
            { month: 'junho', date: '21.05.2025', service: 'MERLIN', usd: '$190,00', brl: 'R$ 1.136,20', category: 'IA' },
            { month: 'junho', date: '22.05.2025', service: 'BOLT (BY STACKBLITZ)', usd: '$240,00', brl: 'R$ 1.437,60', category: 'Desenvolvimento' },
            { month: 'junho', date: '22.05.2025', service: 'WWW.PERPLEXITY.AI', usd: '$20,00', brl: 'R$ 119,80', category: 'IA' },
            { month: 'junho', date: '22.05.2025', service: 'WWW.PERPLEXITY.AI', usd: '$40,00', brl: 'R$ 239,60', category: 'IA' },
            { month: 'junho', date: '24.05.2025', service: 'BLACK HAT* BLACK HAT U', usd: '$1.339,00', brl: 'R$ 8.074,17', category: 'Educa√ß√£o' },
            { month: 'junho', date: '26.05.2025', service: 'MICROSOFT-G093799295', usd: '-', brl: 'R$ 136,90', category: 'Cloud' },
            { month: 'junho', date: '26.05.2025', service: 'PADDLE.NET* N8N CLOUD1', usd: 'BRL375,00', brl: 'R$ 398,76', category: 'Automa√ß√£o' },
            { month: 'junho', date: '27.05.2025', service: 'OPENAI *CHATGPT SUBSCR', usd: '$10,07', brl: 'R$ 60,32', category: 'IA' },
            { month: 'junho', date: '28.05.2025', service: 'MAGALUPAY*KABUM', usd: '-', brl: 'R$ 3.415,35', category: 'Hardware' },
            { month: 'junho', date: '28.05.2025', service: 'MERCADOLIVRE*EBAZARCOM', usd: '-', brl: 'R$ 557,00', category: 'E-commerce' },
            { month: 'junho', date: '28.05.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL825,00', brl: 'R$ 882,85', category: 'IA' },
            { month: 'junho', date: '28.05.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL164,85', brl: 'R$ 176,44', category: 'IA' },
            { month: 'junho', date: '28.05.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL164,85', brl: 'R$ 176,44', category: 'IA' },
            { month: 'junho', date: '28.05.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL163,57', brl: 'R$ 175,05', category: 'IA' },
            { month: 'junho', date: '29.05.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL159,68', brl: 'R$ 169,70', category: 'IA' },
            { month: 'junho', date: '29.05.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL159,68', brl: 'R$ 169,70', category: 'IA' },
            { month: 'junho', date: '30.05.2025', service: 'OPENAI *CHATGPT SUBSCR', usd: '$120,00', brl: 'R$ 729,60', category: 'IA' },
            { month: 'junho', date: '31.05.2025', service: 'OPENAI *CHATGPT SUBSCR', usd: '$120,00', brl: 'R$ 729,60', category: 'IA' },
            { month: 'junho', date: '01.06.2025', service: 'AWS BRAZIL', usd: '-', brl: 'R$ 7,16', category: 'Cloud' },
            { month: 'junho', date: '02.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL137,28', brl: 'R$ 146,29', category: 'IA' },
            { month: 'junho', date: '02.06.2025', service: 'ANTHROPIC', usd: '$5,00', brl: 'R$ 30,15', category: 'IA' },
            { month: 'junho', date: '02.06.2025', service: 'OPENAI', usd: '$100,00', brl: 'R$ 603,00', category: 'IA' },
            { month: 'junho', date: '03.06.2025', service: 'MERCADOLIVRE*NEXUSONLIN', usd: '-', brl: 'R$ 869,00', category: 'E-commerce' },
            { month: 'junho', date: '03.06.2025', service: 'MSFT * E0500WG1F9', usd: '-', brl: 'R$ 535,50', category: 'Cloud' },
            { month: 'junho', date: '03.06.2025', service: 'MSFT * E0500WG1KZ', usd: '-', brl: 'R$ 119,00', category: 'Cloud' },
            { month: 'junho', date: '03.06.2025', service: 'MSFT * E0500WFXHS', usd: '-', brl: 'R$ 1.190,10', category: 'Cloud' },
            { month: 'junho', date: '04.06.2025', service: 'MERCADOLIVRE*MERCA01/02', usd: '-', brl: 'R$ 375,00', category: 'E-commerce' },
            { month: 'junho', date: '04.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL126,12', brl: 'R$ 133,62', category: 'IA' },
            { month: 'junho', date: '04.06.2025', service: 'SUPABASE', usd: '$25,00', brl: 'R$ 149,00', category: 'Cloud' },
            { month: 'junho', date: '04.06.2025', service: 'DIDWW', usd: '$50,00', brl: 'R$ 298,00', category: 'Telefonia' },

            // JULHO 2025
            { month: 'julho', date: '05.06.2025', service: 'BOLT (BY STACKBLITZ)', usd: '$330,53', brl: 'R$ 1.956,74', category: 'Desenvolvimento' },
            { month: 'julho', date: '05.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL121,76', brl: 'R$ 128,52', category: 'IA' },
            { month: 'julho', date: '05.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL120,66', brl: 'R$ 127,40', category: 'IA' },
            { month: 'julho', date: '05.06.2025', service: 'CHECKR, INC CHECKR.COM', usd: '$166,44', brl: 'R$ 985,32', category: 'Ferramentas' },
            { month: 'julho', date: '05.06.2025', service: 'ABACUS.AI', usd: '$10,00', brl: 'R$ 59,20', category: 'IA' },
            { month: 'julho', date: '05.06.2025', service: 'ABACUS.AI', usd: '$20,00', brl: 'R$ 118,40', category: 'IA' },
            { month: 'julho', date: '05.06.2025', service: 'ABACUS.AI', usd: '$10,00', brl: 'R$ 59,20', category: 'IA' },
            { month: 'julho', date: '06.06.2025', service: 'ABACUS.AI', usd: '$20,00', brl: 'R$ 118,80', category: 'IA' },
            { month: 'julho', date: '06.06.2025', service: 'SURFERSEO.COM', usd: '$219,00', brl: 'R$ 1.300,86', category: 'Marketing' },
            { month: 'julho', date: '07.06.2025', service: 'HUGGINGFACE', usd: '$60,00', brl: 'R$ 356,40', category: 'IA' },
            { month: 'julho', date: '09.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL101,22', brl: 'R$ 107,44', category: 'IA' },
            { month: 'julho', date: '09.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL101,12', brl: 'R$ 107,38', category: 'IA' },
            { month: 'julho', date: '10.06.2025', service: 'MIRO.COM', usd: '$120,00', brl: 'R$ 704,40', category: 'Colabora√ß√£o' },
            { month: 'julho', date: '10.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL95,73', brl: 'R$ 101,26', category: 'IA' },
            { month: 'julho', date: '10.06.2025', service: 'ABACUS.AI', usd: '$10,00', brl: 'R$ 58,70', category: 'IA' },
            { month: 'julho', date: '11.06.2025', service: 'ABACUS.AI', usd: '$10,00', brl: 'R$ 58,60', category: 'IA' },
            { month: 'julho', date: '12.06.2025', service: 'MERCADOLIVRE*RELOGIOSJU', usd: '-', brl: 'R$ 88,93', category: 'E-commerce' },
            { month: 'julho', date: '12.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL84,29', brl: 'R$ 89,63', category: 'IA' },
            { month: 'julho', date: '13.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL79,94', brl: 'R$ 85,08', category: 'IA' },
            { month: 'julho', date: '16.06.2025', service: 'DIDWW', usd: '$50,00', brl: 'R$ 292,00', category: 'Telefonia' },
            { month: 'julho', date: '18.06.2025', service: 'MERLIN', usd: '$1,98', brl: 'R$ 11,50', category: 'IA' },
            { month: 'julho', date: '20.06.2025', service: 'ANTHROPIC', usd: '$25,00', brl: 'R$ 146,25', category: 'IA' },
            { month: 'julho', date: '20.06.2025', service: 'MERLIN', usd: '$0,76', brl: 'R$ 4,45', category: 'IA' },
            { month: 'julho', date: '21.06.2025', service: 'MERLIN', usd: '$228,00', brl: 'R$ 1.333,80', category: 'IA' },
            { month: 'julho', date: '22.06.2025', service: 'BOLT (BY STACKBLITZ)', usd: '$840,00', brl: 'R$ 4.914,00', category: 'Desenvolvimento' },
            { month: 'julho', date: '22.06.2025', service: 'WWW.PERPLEXITY.AI', usd: '$20,00', brl: 'R$ 117,00', category: 'IA' },
            { month: 'julho', date: '23.06.2025', service: 'CURSOR, AI POWERED IDE', usd: '$40,00', brl: 'R$ 233,20', category: 'Desenvolvimento' },
            { month: 'julho', date: '23.06.2025', service: 'CURSOR, AI POWERED IDE', usd: '$200,00', brl: 'R$ 1.166,00', category: 'Desenvolvimento' },
            { month: 'julho', date: '23.06.2025', service: 'CURSOR, AI POWERED IDE', usd: '$39,99', brl: 'R$ 233,14', category: 'Desenvolvimento' },
            { month: 'julho', date: '23.06.2025', service: 'CURSOR, AI POWERED IDE', usd: '$40,00', brl: 'R$ 233,20', category: 'Desenvolvimento' },
            { month: 'julho', date: '23.06.2025', service: 'ABACUS.AI', usd: '$10,00', brl: 'R$ 58,30', category: 'IA' },
            { month: 'julho', date: '24.06.2025', service: 'MERCADOPAGO*ALPHACAMP', usd: '-', brl: 'R$ 125,61', category: 'Outros' },
            { month: 'julho', date: '24.06.2025', service: 'CURSOR, AI POWERED IDE', usd: '$38,68', brl: 'R$ 224,73', category: 'Desenvolvimento' },
            { month: 'julho', date: '24.06.2025', service: 'OPENAI', usd: '$92,04', brl: 'R$ 534,75', category: 'IA' },
            { month: 'julho', date: '25.06.2025', service: 'WWW.PERPLEXITY.AI', usd: '$35,74', brl: 'R$ 209,79', category: 'IA' },
            { month: 'julho', date: '25.06.2025', service: 'DOCKER, INC.', usd: '$11,00', brl: 'R$ 64,57', category: 'Desenvolvimento' },
            { month: 'julho', date: '26.06.2025', service: 'PPRO*MICROSOFT', usd: '-', brl: 'R$ 136,90', category: 'Cloud' },
            { month: 'julho', date: '26.06.2025', service: 'ABACUS.AI', usd: '$21,00', brl: 'R$ 122,85', category: 'IA' },
            { month: 'julho', date: '26.06.2025', service: 'ABACUS.AI', usd: '$10,00', brl: 'R$ 58,50', category: 'IA' },
            { month: 'julho', date: '26.06.2025', service: 'OPENAI', usd: '$93,62', brl: 'R$ 547,68', category: 'IA' },
            { month: 'julho', date: '26.06.2025', service: 'PADDLE.NET* N8N CLOUD1', usd: 'BRL375,00', brl: 'R$ 398,44', category: 'Automa√ß√£o' },
            { month: 'julho', date: '27.06.2025', service: 'ZAPIER.COM/CHARGE', usd: 'BRL584,04', brl: 'R$ 617,24', category: 'Automa√ß√£o' },
            { month: 'julho', date: '27.06.2025', service: 'ABACUS.AI', usd: '$20,00', brl: 'R$ 116,00', category: 'IA' },
            { month: 'julho', date: '27.06.2025', service: 'MERLIN', usd: '$15,35', brl: 'R$ 89,03', category: 'IA' },
            { month: 'julho', date: '27.06.2025', service: 'DIDWW', usd: '$50,00', brl: 'R$ 290,00', category: 'Telefonia' },
            { month: 'julho', date: '28.06.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL3.262,68', brl: 'R$ 3.467,30', category: 'IA' },
            { month: 'julho', date: '29.06.2025', service: 'MERLIN', usd: '$14,18', brl: 'R$ 82,24', category: 'IA' },
            { month: 'julho', date: '29.06.2025', service: 'WWW.PERPLEXITY.AI', usd: '$38,40', brl: 'R$ 222,72', category: 'IA' },
            { month: 'julho', date: '30.06.2025', service: 'ANTHROPIC', usd: '$64,00', brl: 'R$ 368,64', category: 'IA' },
            { month: 'julho', date: '30.06.2025', service: 'ABACUS.AI', usd: '$8,66', brl: 'R$ 49,88', category: 'IA' },
            { month: 'julho', date: '30.06.2025', service: 'ABACUS.AI', usd: '$10,00', brl: 'R$ 57,60', category: 'IA' },
            { month: 'julho', date: '30.06.2025', service: 'OPENAI *CHATGPT SUBSCR', usd: '$293,09', brl: 'R$ 1.688,20', category: 'IA' },
            { month: 'julho', date: '30.06.2025', service: 'OPENAI *CHATGPT SUBSCR', usd: '$120,00', brl: 'R$ 691,20', category: 'IA' },
            { month: 'julho', date: '30.06.2025', service: 'MERLIN', usd: '$13,59', brl: 'R$ 78,28', category: 'IA' },
            { month: 'julho', date: '01.07.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL148,27', brl: 'R$ 158,03', category: 'IA' },
            { month: 'julho', date: '01.07.2025', service: 'ABACUS.AI', usd: '$10,00', brl: 'R$ 57,80', category: 'IA' },
            { month: 'julho', date: '01.07.2025', service: 'ABACUS.AI', usd: '$30,00', brl: 'R$ 173,40', category: 'IA' },
            { month: 'julho', date: '01.07.2025', service: 'OPENAI', usd: '$91,21', brl: 'R$ 527,19', category: 'IA' },
            { month: 'julho', date: '02.07.2025', service: 'AWS BRAZIL', usd: '-', brl: 'R$ 98,34', category: 'Cloud' },
            { month: 'julho', date: '02.07.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL143,32', brl: 'R$ 152,62', category: 'IA' },
            { month: 'julho', date: '02.07.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL143,32', brl: 'R$ 152,62', category: 'IA' },
            { month: 'julho', date: '03.07.2025', service: 'MSFT * E0500WQDNB', usd: '-', brl: 'R$ 119,00', category: 'Cloud' },
            { month: 'julho', date: '03.07.2025', service: 'MSFT * E0500WQB7J', usd: '-', brl: 'R$ 1.190,10', category: 'Cloud' },
            { month: 'julho', date: '03.07.2025', service: 'MSFT * E0500WQB7K', usd: '-', brl: 'R$ 535,50', category: 'Cloud' },
            { month: 'julho', date: '03.07.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL137,51', brl: 'R$ 145,80', category: 'IA' },
            { month: 'julho', date: '03.07.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL135,90', brl: 'R$ 144,07', category: 'IA' },
            { month: 'julho', date: '04.07.2025', service: 'CREWAI, INC.', usd: '$99,00', brl: 'R$ 566,28', category: 'IA' },
            { month: 'julho', date: '04.07.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL131,85', brl: 'R$ 139,63', category: 'IA' },
            { month: 'julho', date: '04.07.2025', service: 'ANTHROPIC: CLAUDE TEAM', usd: 'BRL131,84', brl: 'R$ 139,57', category: 'IA' },
            { month: 'julho', date: '04.07.2025', service: 'CURSOR, AI POWERED IDE', usd: '$25,28', brl: 'R$ 144,60', category: 'Desenvolvimento' },
            { month: 'julho', date: '04.07.2025', service: 'SUPABASE', usd: '$38,12', brl: 'R$ 218,05', category: 'Cloud' },
            { month: 'julho', date: '04.07.2025', service: 'DEEPL* SUB:77ETPUNACUT', usd: '$44,39', brl: 'R$ 253,91', category: 'Ferramentas' },
            { month: 'julho', date: '05.07.2025', service: 'ABACUS.AI', usd: '$141,31', brl: 'R$ 808,29', category: 'IA' }
        ];

        // Vari√°veis globais
        let filteredTransactions = allTransactions;
        let currentMonth = 'all';
        let currentCategory = 'all';
        let categoryChart = null;
        let timelineChart = null;

        // Fun√ß√£o para converter valor BRL para n√∫mero
        function parseBRL(value) {
            if (!value || value === '-') return 0;
            return parseFloat(value.replace('R$', '').replace(/\./g, '').replace(',', '.').trim());
        }

        // Fun√ß√£o para converter valor USD para n√∫mero
        function parseUSD(value) {
            if (!value || value === '-') return 0;
            return parseFloat(value.replace('$', '').replace(/\./g, '').replace(',', '.').trim());
        }

        // Fun√ß√£o para filtrar transa√ß√µes
        function filterTransactions() {
            filteredTransactions = allTransactions.filter(transaction => {
                const monthMatch = currentMonth === 'all' || transaction.month === currentMonth;
                const categoryMatch = currentCategory === 'all' || transaction.category === currentCategory;
                return monthMatch && categoryMatch;
            });
        }

        // Fun√ß√£o para atualizar estat√≠sticas
        function updateStats() {
            const totalTransactions = filteredTransactions.length;
            
            let totalBRL = 0;
            let totalUSD = 0;
            let aiTransactions = 0;
            const uniqueDays = new Set();

            filteredTransactions.forEach(transaction => {
                totalBRL += parseBRL(transaction.brl);
                totalUSD += parseUSD(transaction.usd);
                
                if (transaction.category === 'IA') {
                    aiTransactions++;
                }
                
                uniqueDays.add(transaction.date);
            });

            const avgTransaction = totalTransactions > 0 ? totalBRL / totalTransactions : 0;
            const aiPercentage = totalTransactions > 0 ? Math.round((aiTransactions / totalTransactions) * 100) : 0;

            // Atualizar elementos
            document.getElementById('totalTransactions').textContent = totalTransactions;
            document.getElementById('totalBRL').textContent = `R$ ${(totalBRL / 1000).toFixed(1)}K`;
            document.getElementById('totalUSD').textContent = `$ ${(totalUSD / 1000).toFixed(1)}K`;
            document.getElementById('avgTransaction').textContent = `R$ ${Math.round(avgTransaction)}`;
            document.getElementById('aiPercentage').textContent = `${aiPercentage}%`;
            document.getElementById('activeDays').textContent = uniqueDays.size;
        }

        // Fun√ß√£o para popular top servi√ßos
        function populateTopServices() {
            const serviceStats = {};
            
            filteredTransactions.forEach(transaction => {
                const serviceName = transaction.service;
                if (!serviceStats[serviceName]) {
                    serviceStats[serviceName] = {
                        count: 0,
                        totalBRL: 0
                    };
                }
                serviceStats[serviceName].count++;
                serviceStats[serviceName].totalBRL += parseBRL(transaction.brl);
            });

            const topServicesList = Object.entries(serviceStats)
                .sort(([,a], [,b]) => b.totalBRL - a.totalBRL)
                .slice(0, 10);

            const servicesGrid = document.getElementById('servicesGrid');
            servicesGrid.innerHTML = '';
            
            topServicesList.forEach(([serviceName, stats]) => {
                const serviceItem = document.createElement('div');
                serviceItem.className = 'service-item';
                serviceItem.innerHTML = `
                    <div class="service-name">${serviceName}</div>
                    <div class="service-count">${stats.count} transa√ß√µes</div>
                    <div class="service-value">R$ ${stats.totalBRL.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</div>
                `;
                servicesGrid.appendChild(serviceItem);
            });
        }

        // Fun√ß√£o para popular tabela de transa√ß√µes
        function populateTransactionsTable() {
            const transactionsTable = document.getElementById('transactionsTable');
            transactionsTable.innerHTML = '';
            
            // Ordenar por data mais recente primeiro
            const sortedTransactions = [...filteredTransactions].sort((a, b) => {
                const dateA = new Date(a.date.split('.').reverse().join('-'));
                const dateB = new Date(b.date.split('.').reverse().join('-'));
                return dateB - dateA;
            });
            
            sortedTransactions.forEach(transaction => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="month-indicator month-${transaction.month}">${transaction.month.charAt(0).toUpperCase() + transaction.month.slice(1)}</span></td>
                    <td class="data">${transaction.date}</td>
                    <td class="movimentacao">${transaction.service}</td>
                    <td class="valor-usd">${transaction.usd}</td>
                    <td class="valor-brl">${transaction.brl}</td>
                    <td><span style="padding: 2px 8px; background: #e3f2fd; border-radius: 12px; font-size: 11px; color: #1976d2;">${transaction.category}</span></td>
                `;
                transactionsTable.appendChild(row);
            });
        }

        // Fun√ß√£o para criar gr√°ficos
        function createCharts() {
            // Gr√°fico de categorias
            const categoryCtx = document.getElementById('categoryChart').getContext('2d');
            categoryChart = new Chart(categoryCtx, {
                type: 'doughnut',
                data: {
                    labels: [],
                    datasets: [{
                        data: [],
                        backgroundColor: [
                            '#667eea', '#764ba2', '#f093fb', '#f5576c',
                            '#4facfe', '#00f2fe', '#43e97b', '#38f9d7',
                            '#ffecd2', '#ff9a9e', '#a8edea', '#fed6e3'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });

            // Gr√°fico de timeline mensal
            const timelineCtx = document.getElementById('timelineChart').getContext('2d');
            timelineChart = new Chart(timelineCtx, {
                type: 'line',
                data: {
                    labels: ['Maio', 'Junho', 'Julho'],
                    datasets: [{
                        label: 'Gastos (R$)',
                        data: [],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return 'R$ ' + (value / 1000).toFixed(0) + 'K';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            updateCharts();
        }

        // Fun√ß√£o para atualizar gr√°ficos
        function updateCharts() {
            // Verificar se os gr√°ficos existem antes de atualiz√°-los
            if (!categoryChart || !timelineChart) {
                return;
            }

            // Atualizar gr√°fico de categorias
            const categoryData = {};
            filteredTransactions.forEach(transaction => {
                const category = transaction.category;
                if (!categoryData[category]) {
                    categoryData[category] = 0;
                }
                categoryData[category] += parseBRL(transaction.brl);
            });

            const sortedCategories = Object.entries(categoryData)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 10);

            if (categoryChart.data) {
                categoryChart.data.labels = sortedCategories.map(([category]) => category);
                categoryChart.data.datasets[0].data = sortedCategories.map(([,value]) => value);
                categoryChart.update();
            }

            // Atualizar gr√°fico de timeline mensal
            const monthlyData = { maio: 0, junho: 0, julho: 0 };

            allTransactions.forEach(transaction => {
                monthlyData[transaction.month] += parseBRL(transaction.brl);
            });

            if (timelineChart.data) {
                if (currentMonth === 'all') {
                    timelineChart.data.datasets[0].data = [
                        monthlyData.maio,
                        monthlyData.junho,
                        monthlyData.julho
                    ];
                } else {
                    const selectedMonthData = [0, 0, 0];
                    const monthIndex = currentMonth === 'maio' ? 0 : currentMonth === 'junho' ? 1 : 2;
                    selectedMonthData[monthIndex] = monthlyData[currentMonth];
                    timelineChart.data.datasets[0].data = selectedMonthData;
                }
                
                timelineChart.update();
            }
        }

        // Fun√ß√£o para atualizar dashboard
        function updateDashboard() {
            filterTransactions();
            updateStats();
            populateTopServices();
            populateTransactionsTable();
            
            // S√≥ atualizar gr√°ficos se eles j√° foram criados
            if (categoryChart && timelineChart) {
                updateCharts();
            }
        }

        // Fun√ß√£o para configurar event listeners
        function setupEventListeners() {
            // Filtro por m√™s
            document.querySelectorAll('.month-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.month-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    currentMonth = tab.dataset.month;
                    updateDashboard();
                });
            });

            // Filtro por categoria
            document.getElementById('categoryFilter').addEventListener('change', (e) => {
                currentCategory = e.target.value;
                updateDashboard();
            });
        }

        // Fun√ß√£o para inicializar dashboard
        function initDashboard() {
            try {
                // Primeiro configurar os listeners
                setupEventListeners();
                
                // Depois atualizar dados (sem gr√°ficos ainda)
                filterTransactions();
                updateStats();
                populateTopServices();
                populateTransactionsTable();
                
                // Por √∫ltimo criar os gr√°ficos
                createCharts();
                
                console.log('Dashboard inicializado com sucesso!');
            } catch (error) {
                console.error('Erro ao inicializar dashboard:', error);
            }
        }

        // Inicializar quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', initDashboard);
    </script>
</body>
</html>
